---
title: 常用 git 命令之 git clean
date: 2017-08-30 16:31:46
update: 2017-08-30 16:31:46
tags: [git,版本控制]
categories: [版本控制,git]

---

## git clean

### 作用
`git clean` 命令的作用是从工作目录中移除未被git追踪的文件或目录。此命令从当前目录开始，通过递归删除不在版本控制下的文件来清理工作树。

### 命令范式
```shell
git clean [-d] [-f] [-i] [-n] [-q] [-e <pattern>] [-x | -X] [ - ] <path> ...
```
### 可选参数

* `-d`
删除未跟踪的目录以及未跟踪的文件。如果未跟踪的目录由不同的Git存储库管理，则默认情况下不会删除它。如果您真的要删除这样的目录，需要加入两个`-f`参数。

* `-f`
  `--force`
如果Git配置变量clean.requireForce未设置为false，git clean将拒绝删除文件或目录，除非-f，-n或-i。Git将拒绝删除具有.git子目录或文件的目录，除非给出了第二个-f。

* `-i`
  `--interactive`
以交互方式显示将要完成的内容和干净的文件。详情请参阅“交互模式”。

* `-n`
  `--dry-run`
实际上并没有删除任何东西，只是显示将要做什么。

* `-q`
  `--quiet`
安静，只报告错误，但不是成功删除的文件。

* `-e <pattern>`
  `--exclude=<pattern>`
除了在.gitignore（每个目录）和$ GIT_DIR / info / exclude中找到的那些外，还会考虑这些模式在有效的忽略规则的集合中。

* `-x`
不要使用从.gitignore（每个目录）和$ GIT_DIR / info / exclude读取的标准忽略规则，但仍然使用随-e选项提供的忽略规则。这允许删除所有未跟踪的文件，包括构建产品。这可以使用（可能与git重置配合使用）创建一个原始的工作目录来测试一个干净的构建。

* `-X`
只删除Git忽略的文件。从头开始重建所有内容，但保留手动创建的文件可能很有用。

> 一般情况下只有既没有被加入Git库的也没有通过`.gitignore`忽略的文件被删除，但是如果添加了`-x`参数，那么也会删除被忽略的文件。（这可以用于删除所有构建生成的文件，如：class,jar,war 等）.添加`<path>...`参数，则只有这些路径受到影响。

### 实例

```bash
# 删除未被追踪的文件和目录
git clean -d -f
```
